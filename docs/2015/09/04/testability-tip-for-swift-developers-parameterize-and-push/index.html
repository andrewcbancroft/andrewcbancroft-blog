<!DOCTYPE html>
<html lang="en">

<head>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-111087893-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-111087893-1');
    </script>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6356224024630676",
            enable_page_level_ads: true
        });
    </script>

    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Testability Tip for Swift Developers – Parameterize and Push" />
<meta property="og:description" content="In a previous &#8220;Testability Tip for Swift Developers&#8221;, I discussed the principle of observability. &#8220;If it's observable, it's testable&#8221; was the primary conclusion of the article, and I pointed toward using the public access control modifier for parts of your app that you intend to test.
In this edition, I'd like to introduce a new principle that I try to adhere to when I'm unit testing, namely, &#8220;If it's controllable, it's testable&#8221;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.andrewcbancroft.com/2015/09/04/testability-tip-for-swift-developers-parameterize-and-push/" />
<meta property="article:published_time" content="2015-09-04T18:36:52&#43;00:00"/>
<meta property="article:modified_time" content="2015-09-04T18:36:52&#43;00:00"/>

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Testability Tip for Swift Developers – Parameterize and Push"/>
<meta name="twitter:description" content="In a previous &#8220;Testability Tip for Swift Developers&#8221;, I discussed the principle of observability. &#8220;If it's observable, it's testable&#8221; was the primary conclusion of the article, and I pointed toward using the public access control modifier for parts of your app that you intend to test.
In this edition, I'd like to introduce a new principle that I try to adhere to when I'm unit testing, namely, &#8220;If it's controllable, it's testable&#8221;."/>
<meta name="generator" content="Hugo 0.55.4" /> 
    
    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Testability Tip for Swift Developers – Parameterize and Push",
  "url": "https:\/\/www.andrewcbancroft.com\/2015\/09\/04\/testability-tip-for-swift-developers-parameterize-and-push\/",
  "wordCount": "1027",
  "datePublished": "2015-09-04T18:36:52\x2b00:00",
  "dateModified": "2015-09-04T18:36:52\x2b00:00",
  "author": {
    "@type": "Person",
    "name": "Andrew"
  },
  "keywords": "Swift, Unit Testing"
}
</script>



    <title>Testability Tip for Swift Developers – Parameterize and Push</title>

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
        crossorigin="anonymous">

    
    <link href="https://www.andrewcbancroft.com/css/custom.css" rel="stylesheet"> 
    <link href="https://www.andrewcbancroft.com/css/syntax.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli:400,500,700" rel="stylesheet">
        
    <link href="" rel="alternate" type="application/rss+xml" title="Andrew Bancroft" /> 
    
    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

</head>

<body>

    <nav class="navbar navbar-expand-sm fixed-top">
        <div class="container">
            <a class="navbar-brand" href="https://www.andrewcbancroft.com">Andrew Bancroft</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="nav navbar-nav mr-auto"></ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            Notes
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="https://www.andrewcbancroft.com#sql-server-notes">SQL Server</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false">
                                Blog Articles
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#azure">Azure</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#dimensional-modeling">Dimensional Modeling</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#general-data-concepts">General Data Concepts</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#machine-learning">Machine Learning</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#r">R</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#sql-server">SQL Server</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#statistics">Statistics</a>
                            </div>
                        </li>
                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            About
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="https://www.andrewcbancroft.comabout/andrew_bancroft/">About Andrew</a>
                            <a class="dropdown-item" href="https://github.com/andrewcbancroft">GitHub</a>
                            <a class="dropdown-item" href="https://www.linkedin.com/in/andrewcbancroft/">LinkedIn</a>
                            <a class="dropdown-item" href="https://twitter.com/andrewcbancroft">Twitter</a>
                            <a class="dropdown-item" href="https://www.youtube.com/channel/UCDPV9kMhP-b5EFRI7d812pg">YouTube</a>
                            <a class="dropdown-item" href="https://www.pluralsight.com/authors/andrew-bancroft">Pluralsight Courses</a>
                            <a class="dropdown-item" href="https://www.andrewcbancroft.com">www.andrewcbancroft.com</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


    
    <div class="container">
        <div class="row">
            <div class="col-sm-12">

                


<article>
  <div class="article">
    <header>
      <h1 class="article-title">Testability Tip for Swift Developers – Parameterize and Push</h1>
    </header>
    <div class="content">

    

<p>In a previous &#8220;Testability Tip for Swift Developers&#8221;, <a href="https://www.andrewcbancroft.com/2015/04/15/testability-tip-for-swift-developers-public-over-private/">I discussed the principle of observability</a>. &#8220;If it's observable, it's testable&#8221; was the primary conclusion of the article, and I pointed toward using the <code>public</code> access control modifier for parts of your app that you intend to test.</p>

<p>In this edition, I'd like to introduce a new principle that I try to adhere to when I'm unit testing, namely, &#8220;If it's controllable, it's testable&#8221;. Here's what I mean by &#8220;controllable&#8221;&#8230;</p>

<div class="resources">
  <div class="resources-header">
    Jump to&#8230;
  </div>
  

<p><ul class="resources-content">
    <li>
      <a href="#controllability">Controllability</a>
    </li>
    <li>
      <a href="#parameterize-push">Parameterize and push</a>
    </li>
    <li>
      <a href="#forms">Forms of parameterization</a>
    </li>
    <li>
      <a href="#usefulness">Usefulness and examples of parameterization</a>
    </li>
    <li>
      <a href="#di">Parameterization or &#8220;Dependency Injection&#8221;?</a>
    </li>
    <li>
      <a href="#related">You might also enjoy&#8230;</a>
    </li>
    <li>
      <a href="#share">Was this article helpful? Please share!</a>
    </li>
  </ul>
</div></p>

<p><a name="controllability" class="jump-target"></a></p>

<h3 id="controllability">Controllability</h3>

<p>In <a href="https://www.andrewcbancroft.com/2015/04/29/testing-is-to-software-as-experiment-is-to-science/">Testing is to Software as Experiment is to Science</a>, I analyzed how testing software mirrors scientific experimentation. Good scientific experiments are controllable. That is, they are set up such that everything stays as constant as possible except the thing you're poking at.</p>

<p>Changing multiple things at a time in an experiment clouds the ability to verify that [tweak x] produced [y outcome]. So a scientist will do his/her best to <em>control</em> the environment by holding as many variables constant as possible, so that he/she can make accurate conclusions about the outcome.</p>

<p>The same goes for testing software. If I'm going to automate a test, I want to set up my &#8220;experiment&#8221; such that I control as much of the system as possible so that I can set up valid expectations and verify results coming from the system under test. Note that I'm using the term &#8220;system&#8221; in a very broad sense – it could be referring to an entire app, a single &#8220;object&#8221;, or a function.</p>

<p><a name="parameterize-push" class="jump-target"></a></p>

<h3 id="parameterize-and-push">Parameterize and push</h3>

<p>So where does &#8220;parameterize and push&#8221; come into play?</p>

<p>Parameterizing sets us up with the ability to provide <em>inputs</em> into the system we're testing. Anytime you have an input, you have the ability to supply a value of your choosing.</p>

<p>Serving as inputs to the system, you can view parameters as entry points for <em>controls</em>. They're &#8220;controls&#8221; because <em>we</em> decide what those values should be before we pass them off as arguments <em>to</em> those parameters. So long as the system we're testing only gets the data it uses from its inputs (its parameters), we can be guaranteed predictable, controlled outputs on the other end.</p>

<p><a name="forms" class="jump-target"></a></p>

<h3 id="forms-of-parameterization">Forms of parameterization</h3>

<p>Three forms of parameterization are common:</p>

<ol>
<li>At the instance level through initializers</li>
<li>At the instance level through property setters</li>
<li>At the function level through function parameters</li>
</ol>

<p>Using an initializer, or a <code>public</code> variable property, or by adding parameters to your functions and using only those parameters for the function's computation and output production, you give yourself the ability to control the system in various ways that are appropriate on a test-by-test basis.</p>

<p><a name="usefulness" class="jump-target"></a></p>

<h3 id="usefulness-and-examples-of-parameterization">Usefulness and examples of parameterization</h3>

<p>Setting up your instance definitions to use a set of inputs from the very start through initialization gives you the ability to provide real &#8220;production-ready&#8221; values in your app, but fake &#8220;test-customized&#8221; values for testing. <a href="https://www.andrewcbancroft.com/2014/07/15/how-to-create-mocks-and-stubs-in-swift/">Creating fake objects</a> for testing is outside the scope of this article, but providing public initializers with parameters is a really great way to set yourself up for being able to test that particular instance.</p>

<pre class="lang:swift decode:true " >// Prefer
public class DatabaseCommunicator {
    let database: Database
    
    public init (database: Database) {
        self.database = database
        // able to supply a controlled input via parameter, such as supplying a 
        // customized "fake" database to use for testing but still supply a "real" database in real life
    }
}

// over
public class DatabaseCommunicator {
    let database = Database()
    // stuck with talking to a real database...
}</pre>

<p>Another viable option is to provide public variable properties that can be set after the instance is initialized. This is a little more round-about, but I would still call it a form of &#8220;parameterization&#8221; because the strategy still provides you with the same control point that an initializer with parameters does.</p>

<pre class="lang:swift decode:true " >// prefer
public class DatabaseCommunicator {
    public var database: Database
    // able to supply a controlled input via property setter, such as supplying a 
    // customized "fake" database to use for testing but still supply a "real" database in real life
    public init() { self.database = Database()}
}

// over
public class DatabaseCommunicator {
    let database = Database()
    // stuck with talking to a real database
}</pre>

<p>At the function level, the usefulness of parameters is that you can supply inputs and examine outputs with ease. If you pull in data from the encapsulating instance inside the function body, say by referencing <code>self.somePropertyValue</code>, you've got a bit more setup to do to be able to accurately verify results. <code>somePropertyValue</code> needs to actually have a value before the function will produce accurate results. If you'd opted to simply define parameters for everything the function needs in order to produce its output, you can test that function in isolation far more easily and be guaranteed that your results are correct and accurate.</p>

<pre class="lang:swift decode:true " >// prefer
func getNameFromDatabase(database: Database) -&gt; String {
    return database.getName()
    // able to supply a controlled input via parameter, such as supplying a 
    // customized "fake" database to use for testing but still supply a "real" database in real life
   
}

// over
func getNameFromDatabase() -&gt; String {
    let database = Database()
    // stuck with talking to a real database
    return database.getName()
}

// and over
func getNameFromDatabase() -&gt; String {
    return self.database.getName()
    // requires additional setting of the database property on 'self'
    // before you're able to get results from this function
}
</pre>

<p><a name="di" class="jump-target"></a></p>

<h3 id="parameterization-or-8220-dependency-injection-8221">Parameterization or &#8220;Dependency Injection&#8221;?</h3>

<p>Yes.</p>

<p>What I'm calling &#8220;parameterization&#8221; is really just &#8220;dependency injection&#8221;. But the term &#8220;dependency injection&#8221; can sound really daunting, while we're used to working with parameters. I intend for the meaning of each term for the purpose of this article to be equivalent.</p>

<h3 id="wrapping-up">Wrapping up</h3>

<p>Parameterizing, your instance definitions and functions provides you an immense amount of leverage when it comes to controlling your system under test. I encourage you to try this out and do your best to shift to a more parameterized approach to writing your code for improved testability. Remember, &#8220;Controllable is testable&#8221;!</p>

<p><a name="related" class="jump-target"></a></p>

<div class="resources">
  <div class="resources-header">
    You might also enjoy&#8230;
  </div>
  

<p><ul class="resources-content">
    <li>
      <i class="fa fa-angle-right"></i> <a href="https://www.andrewcbancroft.com/2015/04/15/testability-tip-for-swift-developers-public-over-private/" title="Testability Tip for Swift Developers – Public Over Private">Testability Tip for Swift Developers – Public Over Private</a>
    </li>
  </ul>
</div></p>

<p><a name="share" class="jump-target"></a></p>


    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "andrewcbancroft" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </article>



            </div>

        </div>
    </div>

    

    <footer class="footer text-center">
        <div class="container">
            <span class="text-muted">This project contains 146 pages and is available on <a href="https://github.com/andrewcbancroft/datadaylife-blog">GitHub</a>. Copyright &copy; Andrew Bancroft, <time datetime="2019">2019</time>.</span>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
        crossorigin="anonymous"></script>

</body>

</html>