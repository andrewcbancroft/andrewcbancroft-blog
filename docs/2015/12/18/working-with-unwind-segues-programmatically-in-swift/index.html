<!DOCTYPE html>
<html lang="en">

<head>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-111087893-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-111087893-1');
    </script>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6356224024630676",
            enable_page_level_ads: true
        });
    </script>

    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Working with Unwind Segues Programmatically in Swift" />
<meta property="og:description" content="Updated on September 20, 2016 – Xcode 8 &amp; Swift 3.0
Navigating between screens is a critical component to building iOS applications. The mechanism for navigation in Storyboard-based applications is the segue. Using segues, we can travel ahead to the next screen, which is extremely common. We can also travel backward in the screen &#8220;navigation stack&#8221; by programming a special kind of segue called an unwind segue.
Embedding a view controller inside a navigation controller gives us some built-in forward and backward navigation, so you may be asking, &#8220;What's the need for an unwind segue?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.andrewcbancroft.com/2015/12/18/working-with-unwind-segues-programmatically-in-swift/" />
<meta property="article:published_time" content="2015-12-18T18:22:55&#43;00:00"/>
<meta property="article:modified_time" content="2015-12-18T18:22:55&#43;00:00"/>

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Working with Unwind Segues Programmatically in Swift"/>
<meta name="twitter:description" content="Updated on September 20, 2016 – Xcode 8 &amp; Swift 3.0
Navigating between screens is a critical component to building iOS applications. The mechanism for navigation in Storyboard-based applications is the segue. Using segues, we can travel ahead to the next screen, which is extremely common. We can also travel backward in the screen &#8220;navigation stack&#8221; by programming a special kind of segue called an unwind segue.
Embedding a view controller inside a navigation controller gives us some built-in forward and backward navigation, so you may be asking, &#8220;What's the need for an unwind segue?"/>
<meta name="generator" content="Hugo 0.55.4" /> 
    
    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Working with Unwind Segues Programmatically in Swift",
  "url": "https:\/\/www.andrewcbancroft.com\/2015\/12\/18\/working-with-unwind-segues-programmatically-in-swift\/",
  "wordCount": "827",
  "datePublished": "2015-12-18T18:22:55\x2b00:00",
  "dateModified": "2015-12-18T18:22:55\x2b00:00",
  "author": {
    "@type": "Person",
    "name": "Andrew"
  },
  "keywords": "Swift, Unwind Segue"
}
</script>



    <title>Working with Unwind Segues Programmatically in Swift</title>

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
        crossorigin="anonymous">

    
    <link href="https://www.andrewcbancroft.com/css/custom.css" rel="stylesheet"> 
    <link href="https://www.andrewcbancroft.com/css/syntax.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli:400,500,700" rel="stylesheet">
        
    <link href="" rel="alternate" type="application/rss+xml" title="Andrew Bancroft" /> 
    
    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

</head>

<body>

    <nav class="navbar navbar-expand-sm fixed-top">
        <div class="container">
            <a class="navbar-brand" href="https://www.andrewcbancroft.com">Andrew Bancroft</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="nav navbar-nav mr-auto"></ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            Notes
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="https://www.andrewcbancroft.com#sql-server-notes">SQL Server</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false">
                                Blog Articles
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#azure">Azure</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#dimensional-modeling">Dimensional Modeling</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#general-data-concepts">General Data Concepts</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#machine-learning">Machine Learning</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#r">R</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#sql-server">SQL Server</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#statistics">Statistics</a>
                            </div>
                        </li>
                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            About
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="https://www.andrewcbancroft.comabout/andrew_bancroft/">About Andrew</a>
                            <a class="dropdown-item" href="https://github.com/andrewcbancroft">GitHub</a>
                            <a class="dropdown-item" href="https://www.linkedin.com/in/andrewcbancroft/">LinkedIn</a>
                            <a class="dropdown-item" href="https://twitter.com/andrewcbancroft">Twitter</a>
                            <a class="dropdown-item" href="https://www.youtube.com/channel/UCDPV9kMhP-b5EFRI7d812pg">YouTube</a>
                            <a class="dropdown-item" href="https://www.pluralsight.com/authors/andrew-bancroft">Pluralsight Courses</a>
                            <a class="dropdown-item" href="https://www.andrewcbancroft.com">www.andrewcbancroft.com</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


    
    <div class="container">
        <div class="row">
            <div class="col-sm-12">

                


<article>
  <div class="article">
    <header>
      <h1 class="article-title">Working with Unwind Segues Programmatically in Swift</h1>
    </header>
    <div class="content">

    

<p><small>Updated on September 20, 2016 – Xcode 8 &amp; Swift 3.0</small></p>

<p>Navigating between screens is a critical component to building iOS applications. The mechanism for navigation in Storyboard-based applications is the <em>segue</em>. Using segues, we can travel ahead to the next screen, which is extremely common. We can also travel <em>backward</em> in the screen &#8220;navigation stack&#8221; by programming a special kind of segue called an <em>unwind</em> segue.</p>

<p>Embedding a view controller inside a navigation controller gives us some built-in forward and backward navigation, so you may be asking, &#8220;What's the need for an unwind segue??&#8221;</p>

<p>Well, suppose that we need to programmatically <em>trigger</em> the backward navigation, based on an interaction with something other than the default &#8220;back&#8221; button on the navigation bar. How would you do it? Yep – you've got it: by using an unwind segue.</p>

<p>This is a walk-through of how to work with unwind segues programmatically in Swift.</p>

<p><strong>Note:</strong> Code in the main article below is written in Swift 3.0, but code examples for Swift 2.3 are found in the <a href="https://github.com/andrewcbancroft/RoasterOnTheGo/tree/swift-2.3">example project</a>.</p>

<div class="resources">
  <div class="resources-header">
    Jump to&#8230;
  </div>
  

<p><ul class="resources-content">
    <li>
      <a href="#example">Example</a>
    </li>
    <li>
      <a href="#create-action">Create an unwindTo___ IBAction</a>
    </li>
    <li>
      <a href="#wire-unwind">Wire up the unwind segue</a>
    </li>
    <li>
      <a href="#identifier">Specify a segue identifier</a>
    </li>
    <li>
      <a href="#trigger">Trigger unwind segue programmatically</a>
    </li>
    <li>
      <a href="#share">Was this article helpful? Please share!</a>
    </li>
  </ul>
</div></p>

<p><a name="example" class="jump-target"></a></p>

<h3 id="example">Example</h3>

<p>An example app called &#8220;Roasters on the Go&#8221; has been created for this walk-through to help give you some context. It's a mock mobile order system for purchasing green, un-roasted coffee beans (so that you can roast them yourself)!</p>

<div class="resources">
  <div class="resources-header">
    Resources
  </div>
  

<p><ul class="resources-content">
    <li>
      <i class="fa fa-github fa-lg"></i> RoasterOnTheGo Example Project (<a href="https://github.com/andrewcbancroft/RoasterOnTheGo/tree/swift-2.3" title="RoasterOnTheGo - Swift 2.3">Swift 2.3</a> | <a href="https://github.com/andrewcbancroft/RoasterOnTheGo/tree/master" title="RoasterOnTheGo - Swift 3.0">Swift 3.0</a>)
    </li>
  </ul>
</div></p>

<ul>
<li>We'll start at a list of coffees categorized by region</li>
<li>Tapping an coffee origin country will take you to the order screen</li>
<li>Pressing the &#8216;Order Now' button will simulate the placement of an order</li>
<li><strong>Tapping &#8220;OK&#8221; on the alert will trigger the unwind segue</strong> (which is the goal of this walk-through)</li>
</ul>

<p>Here's a sample of what the fake app does:<br />
<a href="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/demo.gif"><img src="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/demo.gif" alt="Unwind Segue Demo" width="366" height="663" class="alignnone size-full wp-image-12483" /></a></p>

<p>The goal is to go back to the list of coffee origins after &#8216;OK' is pressed on the alert. Let's look at the steps to make this happen.</p>

<p><a name="create-action" class="jump-target"></a></p>

<h3 id="1-8211-create-an-unwindto-ibaction">1 – Create an unwindTo___ IBAction</h3>

<p>The first step is to create an IBAction that we can wire up the unwind segue to.</p>

<p>Supposing that you've got two view controller: The MenuViewController which lists out the menu of coffees to purchase, and the OrderViewController which allows your app users to buy that particular coffee.</p>

<p>If we're wanting to go <em>from</em> OrderViewController <em>to</em> MenuViewController, we need to <em>create the IBAction in the <strong>MenuViewController</strong></em>:</p>

<pre class="lang:swift decode:true mark:1,5" title="Unwind IBAction" >class MenuViewController: UITableViewController {
    
    // ...
    
    @IBAction func unwindToMenu(segue: UIStoryboardSegue) {}
    
    // ...
}</pre>

<p><a href="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/01_unwind_action.png"><img src="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/01_unwind_action-1024x534.png" alt="Create an Unwind Action" width="1024" height="534" class="alignnone size-large wp-image-12474" srcset="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/01_unwind_action-1024x534.png 1024w, https://www.andrewcbancroft.com/wp-content/uploads/2015/12/01_unwind_action-300x156.png 300w, https://www.andrewcbancroft.com/wp-content/uploads/2015/12/01_unwind_action.png 1218w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>

<p>Placing the IBAction code in the right spot is critical to the functioning of the unwind segue. In this example where we want to go from Order to Menu, if you place the IBAction in the OrderViewController, the Storyboard will let you wire it up just fine, but the transition back to the menu screen will never happen at runtime.</p>

<p>Therefore, it's important to remember: Place the &#8220;unwindTo___&#8221; IBAction function in the view controller source file for the screen you're unwinding back to.</p>

<p><a name="wire-unwind" class="jump-target"></a></p>

<h3 id="2-8211-wire-up-the-unwind-segue">2 – Wire up the unwind segue</h3>

<p>Next up is to wire connect the view controller to the unwind segue IBAction that we just created.</p>

<p>Here, you're going to be looking at the screen that you're going to unwind <em>from</em>. In the running example, this will be the Order View Controller's scene in the Storyboard.</p>

<p>To wire up the OrderViewController to its unwind segue, you need to right-click and drag (or control + drag) from the View Controller icon to the Exit icon in the Storyboard Scene:<br />
<a href="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/02_drag_to_create_segue.png"><img src="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/02_drag_to_create_segue-1024x542.png" alt="Drag to Create Segue" width="1024" height="542" class="alignnone size-large wp-image-12473" srcset="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/02_drag_to_create_segue-1024x542.png 1024w, https://www.andrewcbancroft.com/wp-content/uploads/2015/12/02_drag_to_create_segue-300x159.png 300w, https://www.andrewcbancroft.com/wp-content/uploads/2015/12/02_drag_to_create_segue.png 1199w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>

<p>You'll be presented with list of IBActions to connect to. You'll choose the unwind segue action that was created in step 1:<br />
<a href="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/03_create_segue.png"><img src="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/03_create_segue-1024x542.png" alt="Create Segue" width="1024" height="542" class="alignnone size-large wp-image-12472" srcset="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/03_create_segue-1024x542.png 1024w, https://www.andrewcbancroft.com/wp-content/uploads/2015/12/03_create_segue-300x159.png 300w, https://www.andrewcbancroft.com/wp-content/uploads/2015/12/03_create_segue.png 1201w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>

<p><a name="identifier" class="jump-target"></a></p>

<h3 id="3-8211-specify-a-segue-identifier">3 – Specify a segue identifier</h3>

<p>For this step, you'll want to make sure that the Document Outline of the Storyboard is expanded. This will allow you to easily select the unwind segue in the outline, and specify its identifier in the Attributes Inspector of the Utilities Pane:<br />
<a href="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/04_specify_segue_id.png"><img src="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/04_specify_segue_id-1024x566.png" alt="Specify Segue Identifier" width="1024" height="566" class="alignnone size-large wp-image-12471" srcset="https://www.andrewcbancroft.com/wp-content/uploads/2015/12/04_specify_segue_id-1024x566.png 1024w, https://www.andrewcbancroft.com/wp-content/uploads/2015/12/04_specify_segue_id-300x166.png 300w, https://www.andrewcbancroft.com/wp-content/uploads/2015/12/04_specify_segue_id.png 1200w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>

<p>Since we want to take the user back to the menu when placing an order is finished, we'll give it the identifier of &#8220;unwindToMenu&#8221;.</p>

<p><a name="trigger" class="jump-target"></a></p>

<h3 id="4-8211-trigger-unwind-segue-programmatically">4 – Trigger unwind segue programmatically</h3>

<p>The final step is to write a bit of code to trigger the unwind segue at the appropriate time.</p>

<p>In our example, we want to trigger it when the user taps on the &#8216;OK' button of the alert. Here's a snippet of code that will accomplish that task:</p>

<pre class="lang:swift decode:true mark:5" title="Trigger unwind" >@IBAction func orderButtonTapped(_ sender: UIButton) {
    let alert = UIAlertController(title: "Order Placed!", message: "Thank you for your order.\nWe'll ship it to you soon!", preferredStyle: .alert)
    let OKAction = UIAlertAction(title: "OK", style: UIAlertActionStyle.default, handler: {
        (_)in
        self.performSegue(withIdentifier: "unwindToMenu", sender: self)
    })
    
    alert.addAction(OKAction)
    self.present(alert, animated: true, completion: nil)
}</pre>

<h3 id="wrapping-up">Wrapping up</h3>

<p>Whenever you need to programmatically trigger backward navigation in your app, using an unwind segue can be a great feature to take advantage of. This walk-through took you step-by-step through working with unwind segues in Swift.</p>

<p><a name="share" class="jump-target"></a></p>


    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "andrewcbancroft" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </article>



            </div>

        </div>
    </div>

    

    <footer class="footer text-center">
        <div class="container">
            <span class="text-muted">This project contains 146 pages and is available on <a href="https://github.com/andrewcbancroft/datadaylife-blog">GitHub</a>. Copyright &copy; Andrew Bancroft, <time datetime="2019">2019</time>.</span>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
        crossorigin="anonymous"></script>

</body>

</html>