<!DOCTYPE html>
<html lang="en">

<head>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-111087893-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-111087893-1');
    </script>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6356224024630676",
            enable_page_level_ads: true
        });
    </script>

    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Clean Coding in Swift – Type Inference" />
<meta property="og:description" content="Quick! Tell me! What is the Type of the birdDetails constant in this code example:
let birdDetails = birdDetailsFromStorage() With no additional context to glean information from, the correct answer to the question is, &#8220;I have absolutely no clue&#8230;&#8221; Or is it?
&#8220;Not fair!&#8221;, you say. &#8220;In the real world, I&#8217;d have the ability to option-click and learn the type from a pop-up tooltip, or learn this information by inspection from XCode&#8217;s utilities panel." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.andrewcbancroft.com/2014/08/12/clean-coding-in-swift-type-inference/" />
<meta property="article:published_time" content="2014-08-13T04:22:25&#43;00:00"/>
<meta property="article:modified_time" content="2014-08-13T04:22:25&#43;00:00"/>

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Clean Coding in Swift – Type Inference"/>
<meta name="twitter:description" content="Quick! Tell me! What is the Type of the birdDetails constant in this code example:
let birdDetails = birdDetailsFromStorage() With no additional context to glean information from, the correct answer to the question is, &#8220;I have absolutely no clue&#8230;&#8221; Or is it?
&#8220;Not fair!&#8221;, you say. &#8220;In the real world, I&#8217;d have the ability to option-click and learn the type from a pop-up tooltip, or learn this information by inspection from XCode&#8217;s utilities panel."/>
<meta name="generator" content="Hugo 0.55.4" /> 
    
    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Clean Coding in Swift – Type Inference",
  "url": "https:\/\/www.andrewcbancroft.com\/2014\/08\/12\/clean-coding-in-swift-type-inference\/",
  "wordCount": "858",
  "datePublished": "2014-08-13T04:22:25\x2b00:00",
  "dateModified": "2014-08-13T04:22:25\x2b00:00",
  "author": {
    "@type": "Person",
    "name": "Andrew"
  },
  "keywords": "iOS \/ Mac, Op-Ed, Swift, Clean Code, Type Inference"
}
</script>



    <title>Clean Coding in Swift – Type Inference</title>

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
        crossorigin="anonymous">

    
    <link href="https://www.andrewcbancroft.com/css/custom.css" rel="stylesheet"> 
    <link href="https://www.andrewcbancroft.com/css/syntax.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli:400,500,700" rel="stylesheet">
        
    <link href="" rel="alternate" type="application/rss+xml" title="Andrew Bancroft" /> 
    
    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

</head>

<body>

    <nav class="navbar navbar-expand-sm fixed-top">
        <div class="container">
            <a class="navbar-brand" href="https://www.andrewcbancroft.com">Andrew Bancroft</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="nav navbar-nav mr-auto"></ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            Notes
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="https://www.andrewcbancroft.com#sql-server-notes">SQL Server</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false">
                                Blog Articles
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#azure">Azure</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#dimensional-modeling">Dimensional Modeling</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#general-data-concepts">General Data Concepts</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#machine-learning">Machine Learning</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#r">R</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#sql-server">SQL Server</a>
                                <a class="dropdown-item" href="https://www.andrewcbancroft.com#statistics">Statistics</a>
                            </div>
                        </li>
                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            About
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="https://www.andrewcbancroft.comabout/andrew_bancroft/">About Andrew</a>
                            <a class="dropdown-item" href="https://github.com/andrewcbancroft">GitHub</a>
                            <a class="dropdown-item" href="https://www.linkedin.com/in/andrewcbancroft/">LinkedIn</a>
                            <a class="dropdown-item" href="https://twitter.com/andrewcbancroft">Twitter</a>
                            <a class="dropdown-item" href="https://www.youtube.com/channel/UCDPV9kMhP-b5EFRI7d812pg">YouTube</a>
                            <a class="dropdown-item" href="https://www.pluralsight.com/authors/andrew-bancroft">Pluralsight Courses</a>
                            <a class="dropdown-item" href="https://www.andrewcbancroft.com">www.andrewcbancroft.com</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


    
    <div class="container">
        <div class="row">
            <div class="col-sm-12">

                


<article>
  <div class="article">
    <header>
      <h1 class="article-title">Clean Coding in Swift – Type Inference</h1>
    </header>
    <div class="content">

    

<p>Quick!  Tell me!  What is the Type of the <span class="lang:swift decode:true  crayon-inline">birdDetails</span> constant in this code example:</p>

<pre class="toolbar:2 lang:swift decode:true ">let birdDetails = birdDetailsFromStorage()</pre>

<p>With no additional context to glean information from, the correct answer to the question is, &#8220;I have absolutely no clue&#8230;&#8221;  <a title="Expanded Thoughts on Swift’s Type Inference" href="http://www.andrewcbancroft.com/2014/08/20/expanded-thoughts-on-swifts-type-inference/" target="_blank"><em>Or is it?</em></a></p>

<p>&#8220;Not fair!&#8221;, you say.  &#8220;In the real world, I&#8217;d have the ability to option-click and learn the type from a pop-up tooltip, or learn this information by inspection from XCode&#8217;s utilities panel.&#8221;</p>

<p>Truth.  We would.  _But&#8230;_ should we <em>have</em> to for an example like the one above?  Could we have helped ourselves out a bit by being explicit about the type of <span class="lang:swift decode:true  crayon-inline">birdDetails</span>?</p>

<p>This was the question I asked myself as I set out to determine how and when I prefer to explicitly specify the Types of my variables and constants at declaration-time, rather than letting the compiler <em>infer</em> the Type for me.</p>

<p><a title="Apple Documentation - Type Inference" href="https://developer.apple.com/library/prerelease/mac/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_468" target="_blank">Type Inference</a> is powerful and convenient.  It enables us to leave off explicit type specifications when we declare a variable or constant, leaving us with nice, terse, clean-<em>looking</em> code.  But in reality, for examples like the one posed above, is clean-<em>looking</em> truly &#8220;clean code&#8221;?</p>

<p>From Apple&#8217;s documentation:</p>

<blockquote>
<p><span style="color: #414141;">Type inference enables a compiler to deduce the type of a particular expression automatically when it compiles your code, simply by examining the values you provide.</span></p>
</blockquote>

<p>The key phrase that stuck out to me was this:  &#8220;Type inference enables a <strong><em>compiler</em></strong> to deduce the type of a particular expression&#8230;&#8221;.  Humans are not compilers!</p>

<p>I don&#8217;t know about you, but I could use all the help I can get when it comes to figuring out simple things like the Type resulting from an expression.  Sure, I could rely on the IDE, but in debugging, or in trying to simply read and understand what the intention of my code is when I come back to it sometime later, I want to focus on the <em>code</em>, not on pop-up tool tips or inspector panels.</p>

<p>For instances where deducing the type is not simple for a human to do (and I mean <em>really</em> simple), I&#8217;m getting to where I prefer to specify the Type up-front.  We&#8217;re used to doing this in Objective-C, and I even do it in C# when using <span class="lang:c# decode:true  crayon-inline ">var</span> would obscure things.  When a language gives me the option to be clear about Types, I try to take advantage of that valuable language feature for all but the simplest of situations.</p>

<h3 id="the-simplest-of-situations">The Simplest of Situations</h3>

<p>Let&#8217;s think for a moment about this so-called &#8220;simplest of situations&#8221;.  I would define such a situation to be when the Type resulting from an expression can easily, at a glance, be inferred by a human being <em>without</em> assistance from an IDE.  It&#8217;s all about context here, and for these simplest of situations, I love Type Inference.</p>

<p>Compare the following two lines of code:</p>

<pre class="toolbar:2 lang:swift decode:true">let birdDetails = "Swift"</pre>

<p>and</p>

<pre class="toolbar:2 lang:swift decode:true ">let birdDetails: String = "Swift"</pre>

<p>In the example just presented, typing &#8220;<span class="lang:swift decode:true crayon-inline">: String</span> &#8221; to explicitly specify <span class="lang:swift decode:true crayon-inline">birdDetails</span>&#8216; type is superfluous in my opinion (and I prefer not to be repetitively redundant when I can).  It&#8217;s crystal clear that <span class="lang:swift decode:true crayon-inline">birdDetails</span> in this example is a <span class="lang:swift decode:true crayon-inline">String</span>.</p>

<p><em>However</em>, in situations like the one at the beginning of the article where, by simply _looking,_ I would have to answer, &#8220;I have no clue what the Type of this is&#8221;, my preference / proposal for your consideration would be to go ahead and specify the Type at declaration time.  Consider:</p>

<pre class="lang:swift decode:true">let birdDetails: (genusSpecies: String, commonName: String) = birdDetailsFromStorage()


//... somewhere else in a Swift file far, far away ...


func birdDetailsFromStorage() -&gt; (genusSpecies: String, commonName: String) {
    return ("Apus apus", "Swift")
}</pre>

<p>When I&#8217;m writing this the first time, I can spend the time looking up the function&#8217;s return Type and specify it when I declare my constant.  It will make my life so much easier down the road.</p>

<p>Don&#8217;t stumble over the fact that <span class="lang:swift decode:true crayon-inline ">birdDetails</span> is a <span class="lang:swift decode:true crayon-inline">tuple type (String, String)</span> .  The point is that the function could have returned <em>anything</em>, and it would still have been impossible for me to tell you what the Type of the constant was just by looking, had I not specified it upon its declaration.</p>

<p>Being explicit about the type in the declaration has great potential to immediately help us get our bearings around a particular set of code when we return to it after any length of time.  And it seems to me that one of the principal goals of writing clean code is to help ourselves and our teams make sense of code quicker so that everyone&#8217;s happier and more productive.</p>

<p>Whew.  That was a long-winded exploration of some things to think about when relying on (or avoiding) Type Inference in your own code.  Thanks for reading!</p>

<hr />

<p>Since publishing this op-ed, I&#8217;ve <a title="Expanded Thoughts on Swift’s Type Inference" href="http://www.andrewcbancroft.com/2014/08/20/expanded-thoughts-on-swifts-type-inference/" target="_blank">expanded my thoughts on Type Inference</a> as it relates to clean coding practices in Swift.  I highly recommend that this post be read and considered alongside my latest musings,which were heavily influenced by Rob Napier&#8217;s comments below.</p>

<div class="related-posts">
  <p>
    You might also enjoy
  </p>
  
  <ul>
    <li>
      <a title="Clean Coding in Swift – Functions" href="http://www.andrewcbancroft.com/2014/08/07/clean-coding-in-swift-functions/" target="_blank">Clean Coding in Swift – Functions</a>
    </li>
    <li>
      <a title="Expanded Thoughts on Swift’s Type Inference" href="http://www.andrewcbancroft.com/2014/08/20/expanded-thoughts-on-swifts-type-inference/" target="_blank">Expanded Thoughts on Swift&#8217;s Type Inference</a>
    </li>
    <li>
      <a title="Pick a Delegate… Any Delegate… On Clean View Controllers in Swift" href="http://www.andrewcbancroft.com/2014/08/26/pick-a-delegate-clean-view-controllers-in-swift/" target="_blank">Pick a Delegate… Any Delegate… On Clean View Controllers in Swift</a>
    </li>
  </ul>
</div>


    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "andrewcbancroft" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </article>



            </div>

        </div>
    </div>

    

    <footer class="footer text-center">
        <div class="container">
            <span class="text-muted">This project contains 146 pages and is available on <a href="https://github.com/andrewcbancroft/datadaylife-blog">GitHub</a>. Copyright &copy; Andrew Bancroft, <time datetime="2019">2019</time>.</span>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
        crossorigin="anonymous"></script>

</body>

</html>